{"version":3,"sources":["redux/actions/index.js","redux/reducers/index.js","redux/store.js","components/Header/Header.js","components/SearchBar.js","components/BookCard/BookCard.js","components/Spinner.js","components/FilterBooks/FilterBooks.js","components/ErrorMessage.js","components/BooksCatalog/BooksCatalog.js","assets/img/login.jpg","components/LogIn/LogIn.js","components/validateForm.js","components/AmoutPriceCard/AmountPriceCard.js","components/BookDetails/BookDetails.js","components/PurchaceModal/PurchaseModal.js","components/Cart/Cart.js","components/ScrollToTop.js","components/NotFound.js","components/App.js","index.js"],"names":["AuthActionType","BooksType","initialUserToken","localStorage","getItem","JSON","parse","token","specificBookType","showLoader","dispatch","type","hideLoader","cartType","addBookToCart","cart","payload","addAmountOfBook","id","amount","emptyAuthState","isLoggedIn","error","loading","user","username","avatar","authState","defaultBooksState","books","defaultSpecBookState","book","defaultCartState","combineReducers","authorReducer","state","action","booksReducer","cartReducer","filter","item","bookItem","find","map","orderedCount","specificBookReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","thunk","Header","useDispatch","location","useHistory","useSelector","userInfo","userName","charAt","toUpperCase","slice","length","setItem","stringify","totalItems","className","pathname","to","src","alt","onClick","removeItem","reduce","acc","cur","SearchBar","searchTerm","setSearchTerm","value","onChange","ev","target","onKeyPress","key","preventDefault","BookCard","title","author","price","cover","Spinner","style","marginTop","marginBottom","width","display","flexDirection","alignItems","FilterBooks","setFilterPrice","min","max","Infinity","filterHandler","hidden","defaultValue","ErrorMessage","errorMsg","errorWrapper","height","justifyContent","color","fontSize","marginLeft","fontStyle","BooksCatalog","useState","filterPrice","userToken","useEffect","a","axios","get","headers","Authorization","res","data","getBooks","chosenPrice","searchValue","toLowerCase","includes","message","searchBooks","LogIn","name","setName","errors","setErrors","isSubmitting","setIsSubmitting","history","post","push","login","onSubmit","trim","validate","htmlFor","placeholder","AmountPriceCard","availableCount","bookCount","setbookCount","AddToCart","setAddToCart","disabledBtn","setDisabledBtn","warningMsg","setWarningMsg","chosenBookInArray","countAvailAmountOfBook","initAmount","document","getElementById","innerText","forEach","onAmountOfBookChange","onKeyDown","Math","round","disabled","BookDetails","useParams","getSpecificBook","reducer","count","description","level","tags","tag","random","searchBook","PurchaseModal","children","trigger","setTrigger","purchaseMsg","onClearCart","reducerBooks","Cart","isPurchase","setIsPurchase","setPurchaseMsg","isPurchaseLoading","setIsPurchaseLoading","purchaseError","setPurchaseError","localStBooks","isBooks","setIsBooks","totalPrice","parseFloat","toFixed","cartBooks","handler","purchaseHandler","booksToPurchase","idAndCountArr","idArr","bookInfo","i","join","defaultAmount","available","changedAmount","deleteBook","data-label","ScrollToTop","useLocation","scrollTo","NotFound","margin","App","path","exact","render","component","defaults","baseURL","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.01b10ec3.chunk.js","sourcesContent":["/* eslint-disable quote-props */\r\n/* eslint-disable quotes */\r\nimport axios from 'axios';\r\n\r\n// Authorizaiton actions\r\nconst AuthActionType = {\r\n  REGISTER_SUCCESS: 'REGISTER_SUCCESS',\r\n  REGISTER_FAIL: 'REGISTER_FAIL',\r\n  SHOW_LOADER: 'SHOW_LOADER',\r\n  HIDE_LOADER: 'HIDE_LOADER'\r\n};\r\n\r\nconst RegisterAuthAction = (userName) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      dispatch(showLoader());\r\n      const res = await axios.post('/signin', { username: userName });\r\n      const { data } = res;\r\n      localStorage.setItem('user', JSON.stringify(res.data));\r\n      dispatch({ type: 'REGISTER_SUCCESS', payload: data });\r\n    } catch (error) {\r\n      dispatch(showLoader());\r\n      dispatch({ type: 'REGISTER_FAIL', payload: error });\r\n    } finally {\r\n      dispatch(hideLoader());\r\n    }\r\n  };\r\n};\r\n\r\nconst setUser = (data) => ({\r\n  type: 'SET_USER',\r\n  payload: data\r\n});\r\n\r\nconst logOut = () => {\r\n  localStorage.removeItem('user');\r\n  localStorage.removeItem('selectedBooks');\r\n  return {\r\n    type: 'LOG_OUT'\r\n  };\r\n};\r\n\r\n// Books actions\r\nconst BooksType = {\r\n  GET_BOOKS_SUCC: 'GET_BOOKS_SUCC',\r\n  GET_BOOKS_FAIL: 'GET_BOOKS_FAIL',\r\n  SHOW_LOADER: 'SHOW_LOADER',\r\n  HIDE_LOADER: 'HIDE_LOADER'\r\n};\r\n\r\nconst initialUserToken = localStorage.getItem('user') ? JSON.parse(localStorage.getItem('user')).token : '';\r\n\r\nconst getBooks = (token = initialUserToken || '') => {\r\n  return async (dispatch) => {\r\n    try {\r\n      dispatch(showLoader());\r\n      const res = await axios.get('/books', {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`\r\n        }\r\n      });\r\n      const { data } = res;\r\n      dispatch({ type: 'GET_BOOKS_SUCC', payload: data });\r\n    } catch (error) {\r\n      dispatch(showLoader());\r\n      dispatch({ type: 'GET_BOOKS_FAIL', payload: error });\r\n    } finally {\r\n      dispatch(hideLoader());\r\n    }\r\n  };\r\n};\r\n\r\nconst specificBookType = {\r\n  GET_BOOK_SUCC: 'GET_BOOK_SUCC',\r\n  GET_BOOK_FAIL: 'GET_BOOK_FAIL'\r\n};\r\n\r\nconst getSpecificBook = (token = initialUserToken || '', id) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      dispatch(showLoader());\r\n      const res = await axios.get(`https://js-band-store-api.glitch.me/books/${id}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`\r\n        }\r\n      });\r\n      const { data } = res;\r\n      dispatch({ type: 'GET_BOOK_SUCC', payload: data });\r\n    } catch (error) {\r\n      dispatch(showLoader());\r\n      dispatch({ type: 'GET_BOOK_FAIL', payload: error });\r\n    } finally {\r\n      dispatch(hideLoader());\r\n    }\r\n  };\r\n};\r\n\r\nconst showLoader = () => (dispatch) => {\r\n  dispatch({\r\n    type: 'SHOW_LOADER'\r\n  });\r\n};\r\n\r\nconst hideLoader = () => (dispatch) => {\r\n  dispatch({\r\n    type: 'HIDE_LOADER'\r\n  });\r\n};\r\n\r\n// chosen books\r\nconst cartType = {\r\n  ADD_BOOK_TO_CART: 'ADD_BOOK_TO_CART',\r\n  ADD_AMOUNT_OF_BOOK: 'ADD_AMOUNT_OF_BOOK',\r\n  DELETE_BOOK: 'DELETE_BOOK',\r\n  DELETE_ALL_BOOKS: 'DELETE_ALL_BOOKS'\r\n};\r\n\r\nconst addBookToCart = (cart) => ({\r\n  type: cartType.ADD_BOOK_TO_CART,\r\n  payload: cart\r\n});\r\n\r\nconst addAmountOfBook = (id = null, amount) => ({\r\n  type: cartType.ADD_AMOUNT_OF_BOOK,\r\n  payload: { id, amount }\r\n});\r\n\r\nconst deleteBook = (id = null) => ({\r\n  type: cartType.DELETE_BOOK,\r\n  payload: id\r\n});\r\n\r\nconst deleteAllBooks = () => ({\r\n  type: cartType.DELETE_ALL_BOOKS\r\n});\r\n\r\nexport {\r\n  showLoader,\r\n  hideLoader,\r\n  RegisterAuthAction,\r\n  setUser,\r\n  logOut,\r\n  getBooks,\r\n  addBookToCart,\r\n  addAmountOfBook,\r\n  deleteBook,\r\n  deleteAllBooks,\r\n  getSpecificBook,\r\n  AuthActionType,\r\n  BooksType,\r\n  specificBookType,\r\n  cartType\r\n};\r\n","/* eslint-disable no-case-declarations */\r\nimport { combineReducers } from 'redux';\r\nimport { AuthActionType, BooksType, cartType, specificBookType } from '../actions';\r\n\r\n// Authorization reducers\r\nconst emptyAuthState = {\r\n  isLoggedIn: false,\r\n  error: '',\r\n  loading: false,\r\n  user: {\r\n    username: '',\r\n    avatar: '',\r\n    token: ''\r\n  }\r\n};\r\n\r\nconst authState = localStorage.getItem('user') ? {\r\n  isLoggedIn: true,\r\n  error: '',\r\n  loading: false,\r\n  user: JSON.parse(localStorage.getItem('user'))\r\n} : emptyAuthState;\r\n\r\nconst authorReducer = (state = authState, action) => {\r\n  switch (action.type) {\r\n    case AuthActionType.SHOW_LOADER:\r\n      return {\r\n        ...state,\r\n        loading: true\r\n      };\r\n    case AuthActionType.HIDE_LOADER:\r\n      return {\r\n        ...state,\r\n        loading: false\r\n      };\r\n    case AuthActionType.REGISTER_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        isLoggedIn: true,\r\n        user: action.payload\r\n      };\r\n    case AuthActionType.REGISTER_FAIL:\r\n      return {\r\n        ...state,\r\n        isLoggedIn: false,\r\n        loading: false,\r\n        error: action.payload\r\n      };\r\n    case 'LOG_OUT':\r\n      return emptyAuthState;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// Books reducers\r\nconst defaultBooksState = {\r\n  books: [],\r\n  loading: true\r\n};\r\n\r\nconst booksReducer = (state = defaultBooksState, action) => {\r\n  switch (action.type) {\r\n    case BooksType.GET_BOOKS_SUCC:\r\n      return {\r\n        ...state,\r\n        books: action.payload,\r\n        loading: false\r\n      };\r\n    case BooksType.GET_BOOKS_FAIL:\r\n      return {\r\n        ...state,\r\n        error: action.payload,\r\n        loading: false\r\n      };\r\n    case BooksType.SHOW_LOADER:\r\n      return {\r\n        ...state,\r\n        loading: true\r\n      };\r\n    case BooksType.HIDE_LOADER:\r\n      return {\r\n        ...state,\r\n        loading: false\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst defaultSpecBookState = {\r\n  book: {},\r\n  loading: false\r\n};\r\n\r\nconst specificBookReducer = (state = defaultSpecBookState, action) => {\r\n  switch (action.type) {\r\n    case specificBookType.GET_BOOK_SUCC:\r\n      return {\r\n        ...state,\r\n        book: action.payload,\r\n        loading: false\r\n      };\r\n    case specificBookType.GET_BOOK_FAIL:\r\n      return {\r\n        ...state,\r\n        error: action.payload,\r\n        loading: false\r\n      };\r\n    case BooksType.SHOW_LOADER:\r\n      return {\r\n        ...state,\r\n        loading: true\r\n      };\r\n    case BooksType.HIDE_LOADER:\r\n      return {\r\n        ...state,\r\n        loading: false\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst setBooks = (books) => ({ type: BooksType.GET_BOOKS_SUCC, payload: books });\r\n\r\n// Cart reducer\r\nconst defaultCartState = {\r\n  books: []\r\n};\r\n\r\nconst cartReducer = (state = defaultCartState, action) => {\r\n  switch (action.type) {\r\n    case cartType.ADD_BOOK_TO_CART:\r\n      return {\r\n        books: [...state.books, action.payload]\r\n      };\r\n    case cartType.DELETE_BOOK:\r\n      return {\r\n        ...state,\r\n        books: state.books.filter((item) => item.id !== action.payload)\r\n      };\r\n    case cartType.ADD_AMOUNT_OF_BOOK:\r\n      const bookItem = [...state.books].find((item) => item.id === action.payload.id);\r\n      return {\r\n        books: state.books.map((item) => {\r\n          if (item.id === bookItem.id) {\r\n            return {\r\n              ...item,\r\n              orderedCount: +item.orderedCount + +action.payload.amount\r\n            };\r\n          }\r\n          return item;\r\n        })\r\n      };\r\n    case cartType.DELETE_ALL_BOOKS:\r\n      return {\r\n        books: []\r\n      };\r\n    case 'LOG_OUT':\r\n      return defaultCartState;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default combineReducers({\r\n  authorReducer,\r\n  booksReducer,\r\n  cartReducer,\r\n  specificBookReducer\r\n});\r\n","import { createStore, compose, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport reducers from './reducers';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(\r\n  reducers,\r\n  composeEnhancers(applyMiddleware(thunk))\r\n);\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport './Header.scss';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { logOut } from '../../redux/actions';\r\n\r\nfunction Header() {\r\n  const dispatch = useDispatch();\r\n  const handleLogout = () => dispatch(logOut());\r\n  const { location } = useHistory();\r\n  const { cartReducer } = useSelector((state) => state);\r\n  const userInfo = JSON.parse(localStorage.getItem('user'));\r\n  const userName = localStorage.getItem('user') ? userInfo.username.charAt(0).toUpperCase()\r\n    + userInfo.username.slice(1) : '';\r\n  if (cartReducer.books.length) localStorage.setItem('selectedBooks', cartReducer.books.length ? JSON.stringify(cartReducer.books) : []);\r\n  const totalItems = localStorage.getItem('selectedBooks') ? JSON.parse(localStorage.getItem('selectedBooks')) : [];\r\n\r\n  return (\r\n    <div className=\"ui container header-wrapper\">\r\n      <div className=\"header\">\r\n        {location.pathname === '/bookscatalog' ? '' : (\r\n          <Link to=\"/bookscatalog\">\r\n            <button className=\"ui small button teal to-catalog-btn\" type=\"button\">Back to Catalog</button>\r\n          </Link>\r\n        )}\r\n        <div className=\"user-info\">\r\n          <img className=\"ui circular image\" src={userInfo.avatar} alt=\"avatar\" />\r\n          <span className=\"user-name\">{userName}</span>\r\n          <button className=\"ui button teal\" type=\"button\" onClick={handleLogout}>Log out</button>\r\n        </div>\r\n      </div>\r\n      <hr className=\"line-division\" />\r\n      <div className=\"header-cart\">\r\n        <h1>JS Band Store</h1>\r\n        <Link to=\"/cart\">\r\n          <div className=\"cart-wrapper\">\r\n            <i className=\"cart teal large plus icon\" />\r\n            <span>{totalItems.length ? totalItems.map((item) => +item.orderedCount).reduce((acc, cur) => acc + cur) : 0}</span>\r\n          </div>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","/* eslint-disable jsx-a11y/label-has-associated-control */\r\nimport React from 'react';\r\n\r\n// eslint-disable-next-line react/prop-types\r\nfunction SearchBar({ searchTerm, setSearchTerm }) {\r\n  return (\r\n    <form className=\"ui form\">\r\n      <div className=\"field\">\r\n        <label>Books Search by Title</label>\r\n        <input\r\n          className=\"\"\r\n          type=\"text\"\r\n          value={searchTerm}\r\n          onChange={(ev) => setSearchTerm(ev.target.value)}\r\n          // eslint-disable-next-line no-unused-expressions\r\n          onKeyPress={(ev) => { ev.key === 'Enter' && ev.preventDefault(); }}\r\n        />\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default SearchBar;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\n// eslint-disable-next-line react/prop-types\r\nfunction BookCard({ title, author, price, cover, id }) {\r\n  return (\r\n    <div key={id} className=\"teal card\">\r\n      <div className=\"image\"><img src={cover} alt=\"book cover\" /></div>\r\n      <div className=\"content\">\r\n        <div className=\"header\">{title}</div>\r\n        <div className=\"description\">\r\n          {author}\r\n        </div>\r\n      </div>\r\n      <div className=\"extra content\">\r\n        <span className=\"right floated\">\r\n          <div className=\"extra content\">\r\n            <Link to={`/book-details/${id}`}>\r\n              <button className=\"ui button teal\" type=\"button\">View</button>\r\n            </Link>\r\n          </div>\r\n        </span>\r\n        <span>\r\n          {`${price}$`}\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BookCard;\r\n","import React from 'react';\r\n\r\nfunction Spinner() {\r\n  const style = {\r\n    loadWrapper: {\r\n      marginTop: '2rem',\r\n      marginBottom: '-6.8rem',\r\n      width: '100%',\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center'\r\n    }\r\n  };\r\n  return (\r\n    <div style={style.loadWrapper}>\r\n      <h3>Loading...</h3>\r\n      <div className=\"ui active centered inline loader\" />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Spinner;\r\n","import React from 'react';\r\nimport './FilterBooks.scss';\r\n\r\n// eslint-disable-next-line react/prop-types\r\nfunction FilterBooks({ setFilterPrice }) {\r\n  const filterHandler = (ev) => {\r\n    const { value } = ev.target;\r\n    if (value === 'all') setFilterPrice({ min: 0, max: Infinity });\r\n    if (value === '0-25') setFilterPrice({ min: 0, max: 25 });\r\n    if (value === '25-50') setFilterPrice({ min: 25, max: 50 });\r\n    if (value === '50-above') setFilterPrice({ min: 50, max: Infinity });\r\n  };\r\n  return (\r\n    <div className=\"price-filter\">\r\n      <select className=\"price-select\" onChange={(ev) => filterHandler(ev)}>\r\n        <option value=\"\" hidden defaultValue>Price</option>\r\n        <option value=\"all\">all</option>\r\n        <option value=\"0-25\">0 - 25</option>\r\n        <option value=\"25-50\">25 - 50</option>\r\n        <option value=\"50-above\">50 - above</option>\r\n      </select>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FilterBooks;\r\n","import React from 'react';\r\n\r\nfunction ErrorMessage({ errorMsg }) {\r\n  const style = {\r\n    errorWrapper: {\r\n      width: '100%',\r\n      display: 'flex',\r\n      height: '4rem',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      color: '#fa5353',\r\n      fontSize: '18px',\r\n      marginBottom: '-4rem'\r\n    },\r\n    errorMsg: {\r\n      marginLeft: '1rem',\r\n      fontStyle: 'italic',\r\n      fontSize: '16px'\r\n\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"author-error__wrapper\" style={style.errorWrapper}>\r\n      <p className=\"author-error\">\r\n        Something went wrong!\r\n        <span style={style.errorMsg}>{`Error message: ${errorMsg}`}</span>\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ErrorMessage;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport './BooksCatalog.scss';\r\n// import InfiniteScroll from 'react-infinite-scroller';\r\nimport Header from '../Header/Header';\r\nimport SearchBar from '../SearchBar';\r\nimport { getBooks } from '../../redux/actions';\r\nimport BookCard from '../BookCard/BookCard';\r\nimport Spinner from '../Spinner';\r\nimport FilterBooks from '../FilterBooks/FilterBooks';\r\nimport ErrorMessage from '../ErrorMessage';\r\n\r\nfunction BooksCatalog() {\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [filterPrice, setFilterPrice] = useState({ min: 0, max: Infinity });\r\n  const [noBooks, setNoBooks] = useState('');\r\n  const dispatch = useDispatch();\r\n  const userToken = JSON.parse(localStorage.getItem('user')).token;\r\n  const { booksReducer } = useSelector((state) => state);\r\n\r\n  useEffect(() => { dispatch(getBooks(userToken)); }, []);\r\n\r\n  const searchBooks = (value, chosenPrice) => {\r\n    const searchValue = value.books.filter((book) => (book.price > chosenPrice.min && book.price < chosenPrice.max)\r\n      && book.title.toLowerCase().includes(searchTerm.toLowerCase()));\r\n    if (value.loading) return <Spinner />;\r\n    if (searchValue.length === 0 && !value.error) return <h1>No books related to this theme!</h1>;\r\n    if (value.error) return <ErrorMessage errorMsg={value.error.message} />;\r\n    return (\r\n      searchValue.map(({ title, author, price, cover, id }) => {\r\n        return (\r\n          <BookCard\r\n            key={id}\r\n            title={title}\r\n            author={author}\r\n            price={price}\r\n            cover={cover}\r\n            id={id}\r\n          />\r\n        );\r\n      })\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <div className=\"ui container\">\r\n        <div className=\"ui segment search-wrapper\">\r\n          <SearchBar searchTerm={searchTerm} setSearchTerm={setSearchTerm} />\r\n          <FilterBooks filterPrice={filterPrice} setFilterPrice={setFilterPrice} />\r\n        </div>\r\n        <div className=\"ui link cards cards__container\">\r\n          {searchBooks(booksReducer, filterPrice)}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default BooksCatalog;\r\n","export default __webpack_public_path__ + \"static/media/login.fe9dc47f.jpg\";","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport validate from '../validateForm';\r\nimport { RegisterAuthAction } from '../../redux/actions';\r\nimport './LogIn.scss';\r\nimport Spinner from '../Spinner';\r\nimport ErrorMessage from '../ErrorMessage';\r\nimport login from '../../assets/img/login.jpg';\r\n\r\nfunction LogIn() {\r\n  const imgUrl = '../../assets/img/login_img.jpg';\r\n  const [name, setName] = useState('');\r\n  const [errors, setErrors] = useState('');\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const { authorReducer } = useSelector((state) => state);\r\n\r\n  useEffect(() => {\r\n    if (isSubmitting) {\r\n      dispatch(RegisterAuthAction(name));\r\n      history.push('/bookscatalog');\r\n    }\r\n    setIsSubmitting(false);\r\n  }, [isSubmitting]);\r\n\r\n  const handleSubmit = (ev) => {\r\n    ev.preventDefault();\r\n    setErrors(validate(name, setIsSubmitting));\r\n  };\r\n\r\n  if (authorReducer.loading) {\r\n    return (\r\n      <div className=\"login__container\">\r\n        <div className=\"login\">\r\n          <Spinner />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <>\r\n      {authorReducer.error && <ErrorMessage errorMsg={authorReducer.error.message} />}\r\n      <div className=\"login__container\">\r\n        <div className=\"login\">\r\n          <img className=\"ui medium rounded image login__img\" alt=\"log in img\" src={login} />\r\n          <h3 className=\"welcome-text\">Welcome to JS Band Book Store!</h3>\r\n          <form className=\"ui form login__form\" onSubmit={handleSubmit}>\r\n            <div className=\"field\">\r\n              <label htmlFor=\"name__login\">\r\n                Name:\r\n                <input\r\n                  className=\"input__login\"\r\n                  id=\"name__login\"\r\n                  type=\"text\"\r\n                  name=\"first-name\"\r\n                  placeholder=\"Log-in Name\"\r\n                  value={name}\r\n                  // eslint-disable-next-line no-unused-expressions\r\n                  onKeyPress={(ev) => { ev.key === 'Enter' && ev.preventDefault(); }}\r\n                  onClick={(ev) => setErrors('')}\r\n                  onChange={(ev) => setName(ev.target.value)}\r\n                />\r\n                {errors && <p>{errors}</p>}\r\n              </label>\r\n              <button className=\"teal fluid ui button\" type=\"submit\">Log In</button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default LogIn;\r\n","export default function validate(value, setIsSubmitting) {\r\n  let errors = '';\r\n\r\n  if (!value.trim()) {\r\n    errors = 'Name required!';\r\n    setIsSubmitting(false);\r\n  } else if (value.trim().length < 4 || value.trim().length > 16) {\r\n    errors = 'Name should consist of min 4 and max 16 characters';\r\n    setIsSubmitting(false);\r\n  } else {\r\n    setIsSubmitting(true);\r\n  }\r\n\r\n  return errors;\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport './AmountPriceCard.scss';\r\nimport { addBookToCart, addAmountOfBook } from '../../redux/actions';\r\n\r\n// eslint-disable-next-line react/prop-types\r\nfunction AmountPriceCard({ id, title, availableCount, price }) {\r\n  const [bookCount, setbookCount] = useState(0);\r\n  const [AddToCart, setAddToCart] = useState(false);\r\n  const [disabledBtn, setDisabledBtn] = useState(true);\r\n  const [warningMsg, setWarningMsg] = useState('');\r\n  const dispatch = useDispatch();\r\n  const cart = { id, title, orderedCount: bookCount, price, availableCount };\r\n  const { cartReducer } = useSelector((state) => state);\r\n  const chosenBookInArray = cartReducer.books.filter((item) => item.id === id).length;\r\n\r\n  const countAvailAmountOfBook = (initAmount) => {\r\n    if (cartReducer.books.length && chosenBookInArray) return +initAmount - +cartReducer.books.filter((item) => item.id === id)[0].orderedCount;\r\n    return initAmount;\r\n  };\r\n\r\n  const onAmountOfBookChange = (ev) => {\r\n    setWarningMsg('');\r\n    setbookCount(ev.target.value);\r\n    setDisabledBtn(false);\r\n  };\r\n\r\n  const addToCartHandler = (ev) => {\r\n    if (+bookCount === 0 && +countAvailAmountOfBook(availableCount) > 0) setWarningMsg('Please, add copies!');\r\n    setAddToCart(true);\r\n    setDisabledBtn(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    document.getElementById('tentacles').value = 0;\r\n    document.getElementById('total-price').innerText = 0;\r\n\r\n    if (+countAvailAmountOfBook(availableCount) === 0) setWarningMsg('No available copies!');\r\n    // in case page was reloaded\r\n    if (localStorage.getItem('selectedBooks') && !cartReducer.books.length) {\r\n      JSON.parse(localStorage.getItem('selectedBooks')).forEach((book) => {\r\n        dispatch(addBookToCart(book));\r\n      });\r\n    }\r\n    if (AddToCart) {\r\n      if (!cartReducer.books.length || !chosenBookInArray) dispatch(addBookToCart(cart));\r\n      if (cartReducer.books.length && chosenBookInArray) dispatch(addAmountOfBook(id, bookCount));\r\n    }\r\n    setAddToCart(false);\r\n  }, [AddToCart]);\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"ui cards\">\r\n        <div className=\"card\">\r\n          <div className=\"content\">\r\n            <div className=\"price-per-one price-row\">\r\n              <span>Price, $</span>\r\n              <span>{price}</span>\r\n            </div>\r\n            <div className=\"price-row\">\r\n              <span>Cart</span>\r\n              <input\r\n                type=\"number\"\r\n                id=\"tentacles\"\r\n                name=\"tentacles\"\r\n                min=\"0\"\r\n                max={countAvailAmountOfBook(availableCount)}\r\n                defaultValue=\"0\"\r\n                onChange={(ev) => onAmountOfBookChange(ev)}\r\n                onKeyDown={(ev) => ev.preventDefault()}\r\n              />\r\n            </div>\r\n            <div className=\"price-row\">\r\n              <span>Total Price, $</span>\r\n              <span id=\"total-price\">{Math.round((bookCount * price) * 100) / 100}</span>\r\n            </div>\r\n            <div className=\"add-to-card\">\r\n              <span id=\"warning-for-btn\">{warningMsg}</span>\r\n              <button className=\"ui button mini teal\" type=\"button\" onClick={(ev) => addToCartHandler(ev)} disabled={disabledBtn}>Add to Cart</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AmountPriceCard;\r\n","import React, { useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nimport './BookDetails.scss';\r\nimport Header from '../Header/Header';\r\nimport AmountPriceCard from '../AmoutPriceCard/AmountPriceCard';\r\nimport { getBooks, getSpecificBook } from '../../redux/actions';\r\nimport Spinner from '../Spinner';\r\nimport ErrorMessage from '../ErrorMessage';\r\n\r\nfunction BookDetails() {\r\n  const { id } = useParams();\r\n  const dispatch = useDispatch();\r\n  const userToken = JSON.parse(localStorage.getItem('user')).token;\r\n  const { booksReducer, specificBookReducer } = useSelector((state) => state);\r\n\r\n  useEffect(() => {\r\n    dispatch(getSpecificBook(userToken, id));\r\n  }, []);\r\n\r\n  const searchBook = (reducer, token) => {\r\n    const { author, count, cover, description, level, price, tags, title } = specificBookReducer.book;\r\n    if (reducer.loading) return <Spinner />;\r\n    if (reducer.error) return <ErrorMessage errorMsg={reducer.error.message} />;\r\n    return (\r\n      <>\r\n        <div className=\"book-details\">\r\n          <div className=\"book-img__wrapper\">\r\n            <img className=\"ui medium rounded image\" src={cover} alt=\"book cover\" />\r\n            <p className=\"book-description\">{description}</p>\r\n          </div>\r\n          <div>\r\n            <h3 className=\"book-title\">{title}</h3>\r\n            <span className=\"book-author\">{author}</span>\r\n            <div className=\"book-tag\">\r\n              <i className=\"tags icon\" />\r\n              {tags ? tags.map((tag) => <span key={Math.random(10)}>{`${tag.slice(0, 1).toUpperCase() + tag.slice(1)}, `}</span>) : ''}\r\n              <span>{level}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <AmountPriceCard id={id || ''} title={title || ''} availableCount={count || null} price={price || null} />\r\n      </>\r\n    );\r\n    // };\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"ui container\">\r\n        <Header />\r\n        <div className=\"details-wrapper\">\r\n          {searchBook(specificBookReducer, userToken)}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default BookDetails;\r\n","import React from 'react';\r\nimport './PurchaseModal.scss';\r\n\r\n// eslint-disable-next-line react/prop-types\r\nfunction PurchaseModal({ children, trigger, setTrigger, purchaseMsg, onClearCart, reducerBooks }) {\r\n  // on reload the orderd book will disappear\r\n  if (reducerBooks.length) localStorage.setItem('selectedBooks', JSON.stringify(reducerBooks));\r\n  return (trigger) ? (\r\n    <div className=\"popup\">\r\n      <div className=\"popup-inner\">\r\n        <h4>{purchaseMsg}</h4>\r\n        <button\r\n          type=\"button\"\r\n          className=\"close-btn\"\r\n          onClick={() => {\r\n            setTrigger(false);\r\n            onClearCart();\r\n          }}\r\n        >\r\n          Close\r\n        </button>\r\n        {children}\r\n      </div>\r\n    </div>\r\n  ) : '';\r\n}\r\n\r\nexport default PurchaseModal;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport axios from 'axios';\r\nimport Header from '../Header/Header';\r\n\r\nimport { addBookToCart, addAmountOfBook, deleteBook, deleteAllBooks } from '../../redux/actions';\r\nimport PurchaseModal from '../PurchaceModal/PurchaseModal';\r\nimport './Cart.scss';\r\nimport Spinner from '../Spinner';\r\nimport ErrorMessage from '../ErrorMessage';\r\n\r\nfunction Cart() {\r\n  const [isPurchase, setIsPurchase] = useState(false);\r\n  const [purchaseMsg, setPurchaseMsg] = useState('');\r\n  const [isPurchaseLoading, setIsPurchaseLoading] = useState(false);\r\n  const [purchaseError, setPurchaseError] = useState('');\r\n  const dispatch = useDispatch();\r\n  const reducerBooks = useSelector((state) => state.cartReducer.books);\r\n  const localStBooks = JSON.parse(localStorage.getItem('selectedBooks'));\r\n  const books = useSelector((state) => state.cartReducer.books) || JSON.parse(localStorage.getItem('selectedBooks')) || [];\r\n  const [isBooks, setIsBooks] = useState(false);\r\n  const totalPrice = books.length ? parseFloat(books.map((book) => book.price * book.orderedCount).reduce((acc, cur) => acc + cur)).toFixed(2) : 0;\r\n\r\n  // for saving on reload\r\n  useEffect(() => {\r\n    if (!reducerBooks.length && localStBooks.length) {\r\n      if (JSON.parse(localStorage.getItem('isLastBookToDelete'))) localStorage.setItem('selectedBooks', '[]');\r\n      JSON.parse(localStorage.getItem('selectedBooks')).forEach((book) => dispatch(addBookToCart(book)));\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem('isLastBookToDelete', 'false');\r\n    JSON.stringify(localStorage.setItem('selectedBooks', JSON.stringify(books)));\r\n    if (books.length) setIsBooks(false);\r\n    if (!books.length) setIsBooks(true);\r\n  }, [reducerBooks]);\r\n\r\n  const onBookAmountCange = (ev, id, defaultAmount, available) => {\r\n    const { value } = ev.target;\r\n    const changedAmount = +value - +defaultAmount;\r\n    if (+value === 0) {\r\n      dispatch(deleteBook(id));\r\n      localStorage.setItem('isLastBookToDelete', reducerBooks.length === 1 ? 'true' : 'false');\r\n      return;\r\n    }\r\n    if (+value === +defaultAmount) return;\r\n    dispatch(addAmountOfBook(id, changedAmount));\r\n  };\r\n\r\n  const onClearCart = () => {\r\n    localStorage.setItem('selectedBooks', '[]');\r\n    dispatch(deleteAllBooks());\r\n  };\r\n\r\n  const purchaseHandler = async (booksToPurchase) => {\r\n    const idAndCountArr = booksToPurchase.map((book) => [book.id, book.orderedCount]);\r\n    const headers = { Authorization: `Bearer ${JSON.parse(localStorage.getItem('user')).token}` };\r\n    const idArr = [];\r\n    idAndCountArr.forEach((bookInfo) => {\r\n      for (let i = 0; i < +bookInfo[1]; i++) {\r\n        idArr.push(bookInfo[0]);\r\n      }\r\n    });\r\n\r\n    try {\r\n      setIsPurchaseLoading(true);\r\n      const res = await axios.post('/purchase', { books: [idArr.join()] }, { headers });\r\n      const { data } = res;\r\n      setPurchaseMsg(data.message);\r\n      setIsPurchase(true);\r\n    } catch (error) {\r\n      setIsPurchaseLoading(true);\r\n      setPurchaseError(JSON.stringify(error.message));\r\n    } finally {\r\n      setIsPurchaseLoading(false);\r\n    }\r\n  };\r\n\r\n  const cartContent = (cartBooks, handler) => {\r\n    if (isPurchaseLoading) return <Spinner />;\r\n    if (!cartBooks.length) {\r\n      return (\r\n        <div className=\"empty-cart__container\">\r\n          <div className=\"empty-cart__wrapper\">\r\n            <i className=\"cart teal huge plus icon\" />\r\n            <h3>Cart empty</h3>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <>\r\n        {purchaseError ? <ErrorMessage errorMsg={purchaseError} /> : ''}\r\n        <div className=\"cart__container\">\r\n          <div className=\"cart-table\">\r\n            <table className=\"ui celled table\">\r\n              <thead>\r\n                <tr>\r\n                  <th className=\"name-colomn\">Name</th>\r\n                  <th>Count</th>\r\n                  <th>Price</th>\r\n                  <th className=\"total-colomn\">\r\n                    <span>Total</span>\r\n                    <div className=\"tooltip\">\r\n                      <button type=\"button\" onClick={onClearCart}>\r\n                        <i className=\"close inverted black icon\" />\r\n                      </button>\r\n                      <span className=\"tooltiptext\">Clear cart</span>\r\n                    </div>\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {books.map((book) => {\r\n                  return (\r\n                    <tr className=\"cart-row\" key={book.id}>\r\n                      <td data-label=\"name\">{book.title}</td>\r\n                      <td data-label=\"count\">\r\n                        <input\r\n                          className=\"count-input\"\r\n                          type=\"number\"\r\n                          id=\"tentacles\"\r\n                          name=\"tentacles\"\r\n                          min={0}\r\n                          max={book.availableCount}\r\n                          defaultValue={book.orderedCount}\r\n                          onChange={(ev) => handler(ev, book.id, book.orderedCount, book.availableCount)}\r\n                          onKeyDown={(ev) => ev.preventDefault()}\r\n                        />\r\n                      </td>\r\n                      <td data-label=\"price\">{book.price}</td>\r\n                      <td data-label=\"total\" className=\"totals-wrapper\">\r\n                        {parseFloat(book.price * book.orderedCount).toFixed(2)}\r\n                      </td>\r\n                    </tr>\r\n                  );\r\n                })}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          <span className=\"cart-total\">{`Total Price -  ${totalPrice} $`}</span>\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <div className=\"ui container cart-wrapper\">\r\n        <button className=\"ui button small teal purchase-btn\" type=\"button\" disabled={isBooks} onClick={() => purchaseHandler(books)}>Purchase</button>\r\n        <div className=\"\">\r\n          {cartContent(books, onBookAmountCange)}\r\n        </div>\r\n      </div>\r\n      <PurchaseModal purchaseMsg={purchaseMsg} trigger={isPurchase} setTrigger={setIsPurchase} onClearCart={onClearCart} reducerBooks={reducerBooks}>\r\n        <table className=\"ui celled table\">\r\n          <thead>\r\n            <tr>\r\n              <th className=\"name-colomn\">Name</th>\r\n              <th>Count</th>\r\n              <th>Price</th>\r\n              <th className=\"total-colomn\">Total</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {books.map((book) => {\r\n              return (\r\n                <tr className=\"cart-row\" key={book.id}>\r\n                  <td data-label=\"name\">{book.title}</td>\r\n                  <td data-label=\"count\">{book.orderedCount}</td>\r\n                  <td data-label=\"price\">{book.price}</td>\r\n                  <td data-label=\"total\" className=\"totals-wrapper\">\r\n                    {parseFloat(book.price * book.orderedCount).toFixed(2)}\r\n                  </td>\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </table>\r\n        <span className=\"puchase-total\">{`Total Price -  ${totalPrice} $`}</span>\r\n      </PurchaseModal>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Cart;\r\n","import { useEffect } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nexport default function ScrollToTop() {\r\n  const { pathname } = useLocation();\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, [pathname]);\r\n\r\n  return null;\r\n}\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction NotFound() {\r\n  return (\r\n    <div className=\"ui grid middle aligned segment teal inverted\" style={{ height: '100vh', margin: '0' }}>\r\n      <div className=\"ui column center aligned\">\r\n        <div className=\"ui inverted statistic\">\r\n          <div className=\"value\">404</div>\r\n          <div className=\"label\">Error</div>\r\n        </div>\r\n\r\n        <div className=\"ui message teal inverted\">\r\n          <div className=\"header\">Page not found</div>\r\n          <p>Oops...The link you clicked may be broken or the page may have been removed. Were sorry.</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NotFound;\r\n","import React, { useEffect } from 'react';\r\nimport {\r\n  BrowserRouter, Route, Switch, Redirect\r\n} from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport BooksCatalog from './BooksCatalog/BooksCatalog';\r\n\r\nimport LogIn from './LogIn/LogIn';\r\nimport './App.scss';\r\nimport Header from './Header/Header';\r\nimport BookDetails from './BookDetails/BookDetails';\r\nimport Cart from './Cart/Cart';\r\nimport ScrollToTop from './ScrollToTop';\r\nimport NotFound from './NotFound';\r\n\r\nconst App = () => {\r\n  const { authorReducer } = useSelector((state) => state);\r\n\r\n  return (\r\n    <div>\r\n      <BrowserRouter>\r\n        <ScrollToTop />\r\n        <Switch>\r\n          <Route\r\n            path=\"/\"\r\n            exact\r\n            render={() => (authorReducer.user.token ? <Redirect to=\"/bookscatalog\" /> : <Redirect to=\"/login\" />)}\r\n          />\r\n          <Route\r\n            path=\"/login\"\r\n            exact\r\n            render={() => (authorReducer.user.token ? <Redirect to=\"/bookscatalog\" /> : <LogIn />)}\r\n          />\r\n          <Route\r\n            path=\"/bookscatalog\"\r\n            exact\r\n            render={() => (authorReducer.user.token ? <BooksCatalog /> : <Redirect to=\"/login\" />)}\r\n          />\r\n          <Route\r\n            path=\"/book-details/:id\"\r\n            exact\r\n            render={() => (authorReducer.user.token ? <BookDetails /> : <Redirect to=\"/login\" />)}\r\n          />\r\n          <Route\r\n            path=\"/cart\"\r\n            exact\r\n            render={() => (authorReducer.user.token ? <Cart /> : <Redirect to=\"/login\" />)}\r\n          />\r\n          <Route exact path=\"*\" component={NotFound} />\r\n        </Switch>\r\n      </BrowserRouter>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport axios from 'axios';\r\nimport store from './redux/store';\r\n\r\nimport App from './components/App';\r\n\r\naxios.defaults.baseURL = 'https://js-band-store-api.glitch.me';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n// reportWebVitals()\r\n"],"sourceRoot":""}