(this["webpackJsonpreact-book-store"]=this["webpackJsonpreact-book-store"]||[]).push([[0],{69:function(e,t,c){},70:function(e,t,c){},75:function(e,t,c){},76:function(e,t,c){},77:function(e,t,c){},78:function(e,t,c){},79:function(e,t,c){},80:function(e,t,c){},81:function(e,t,c){},82:function(e,t,c){"use strict";c.r(t);var a=c(1),r=c.n(a),n=c(20),s=c.n(n),o=c(4),i=c(15),l=c.n(i),j=c(14),d=c(39),u=c(27),b=c(2),O=c(13),h=c.n(O),m=c(17),p="REGISTER_SUCCESS",x="REGISTER_FAIL",g="SHOW_LOADER",f="HIDE_LOADER",v="GET_BOOKS_SUCC",N="GET_BOOKS_FAIL",k="SHOW_LOADER",S="HIDE_LOADER",y=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).token:"",_="GET_BOOK_SUCC",C="GET_BOOK_FAIL",E=function(){return function(e){e({type:"SHOW_LOADER"})}},I=function(){return function(e){e({type:"HIDE_LOADER"})}},B="ADD_BOOK_TO_CART",w="ADD_AMOUNT_OF_BOOK",T="DELETE_BOOK",L="DELETE_ALL_BOOKS",R=function(e){return{type:B,payload:e}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return{type:w,payload:{id:e,amount:t}}},A={isLoggedIn:!1,error:"",loading:!1,user:{username:"",avatar:"",token:""}},F=localStorage.getItem("user")?{isLoggedIn:!0,error:"",loading:!1,user:JSON.parse(localStorage.getItem("user"))}:A,J={books:[],loading:!0},K={book:{},loading:!1},P={books:[]},G=Object(j.c)({authorReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(b.a)(Object(b.a)({},e),{},{loading:!0});case f:return Object(b.a)(Object(b.a)({},e),{},{loading:!1});case p:return Object(b.a)(Object(b.a)({},e),{},{loading:!1,isLoggedIn:!0,user:t.payload});case x:return Object(b.a)(Object(b.a)({},e),{},{isLoggedIn:!1,loading:!1,error:t.payload});case"LOG_OUT":return A;default:return e}},booksReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(b.a)(Object(b.a)({},e),{},{books:t.payload,loading:!1});case N:return Object(b.a)(Object(b.a)({},e),{},{error:t.payload,loading:!1});case k:return Object(b.a)(Object(b.a)({},e),{},{loading:!0});case S:return Object(b.a)(Object(b.a)({},e),{},{loading:!1});default:return e}},cartReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return{books:[].concat(Object(u.a)(e.books),[t.payload])};case T:return Object(b.a)(Object(b.a)({},e),{},{books:e.books.filter((function(e){return e.id!==t.payload}))});case w:var c=Object(u.a)(e.books).find((function(e){return e.id===t.payload.id}));return{books:e.books.map((function(e){return e.id===c.id?Object(b.a)(Object(b.a)({},e),{},{orderedCount:+e.orderedCount+ +t.payload.amount}):e}))};case L:return{books:[]};case"LOG_OUT":return P;default:return e}},specificBookReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(b.a)(Object(b.a)({},e),{},{book:t.payload,loading:!1});case C:return Object(b.a)(Object(b.a)({},e),{},{error:t.payload,loading:!1});case k:return Object(b.a)(Object(b.a)({},e),{},{loading:!0});case S:return Object(b.a)(Object(b.a)({},e),{},{loading:!1});default:return e}}}),M=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||j.d,U=Object(j.e)(G,M(Object(j.a)(d.a))),W=c(12),H=c(5),z=c(6),V=(c(69),c(70),c(0));var $=function(){var e=Object(o.b)(),t=Object(H.g)().location,c=Object(o.c)((function(e){return e})).cartReducer,a=JSON.parse(localStorage.getItem("user")),r=localStorage.getItem("user")?a.username.charAt(0).toUpperCase()+a.username.slice(1):"";c.books.length&&localStorage.setItem("selectedBooks",c.books.length?JSON.stringify(c.books):[]);var n=localStorage.getItem("selectedBooks")?JSON.parse(localStorage.getItem("selectedBooks")):[];return Object(V.jsxs)("div",{className:"ui container header-wrapper",children:[Object(V.jsxs)("div",{className:"header",children:["/bookscatalog"===t.pathname?"":Object(V.jsx)(W.b,{to:"/bookscatalog",children:Object(V.jsx)("button",{className:"ui small button teal to-catalog-btn",type:"button",children:"Back to Catalog"})}),Object(V.jsxs)("div",{className:"user-info",children:[Object(V.jsx)("img",{className:"ui circular image",src:a.avatar,alt:"avatar"}),Object(V.jsx)("span",{className:"user-name",children:r}),Object(V.jsx)("button",{className:"ui button teal",type:"button",onClick:function(){return e((localStorage.removeItem("user"),localStorage.removeItem("selectedBooks"),{type:"LOG_OUT"}))},children:"Log out"})]})]}),Object(V.jsx)("hr",{className:"line-division"}),Object(V.jsxs)("div",{className:"header-cart",children:[Object(V.jsx)("h1",{children:"JS Band Store"}),Object(V.jsx)(W.b,{to:"/cart",children:Object(V.jsxs)("div",{className:"cart-wrapper",children:[Object(V.jsx)("i",{className:"cart teal large plus icon"}),Object(V.jsx)("span",{children:n.length?n.map((function(e){return+e.orderedCount})).reduce((function(e,t){return e+t})):0})]})})]})]})};var X=function(e){var t=e.searchTerm,c=e.setSearchTerm;return Object(V.jsx)("form",{className:"ui form",children:Object(V.jsxs)("div",{className:"field",children:[Object(V.jsx)("label",{children:"Books Search by Title"}),Object(V.jsx)("input",{className:"",type:"text",value:t,onChange:function(e){return c(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&e.preventDefault()}})]})})};var q=function(e){var t=e.title,c=e.author,a=e.price,r=e.cover,n=e.id;return Object(V.jsxs)("div",{className:"teal card",children:[Object(V.jsx)("div",{className:"image",children:Object(V.jsx)("img",{src:r,alt:"book cover"})}),Object(V.jsxs)("div",{className:"content",children:[Object(V.jsx)("div",{className:"header",children:t}),Object(V.jsx)("div",{className:"description",children:c})]}),Object(V.jsxs)("div",{className:"extra content",children:[Object(V.jsx)("span",{className:"right floated",children:Object(V.jsx)("div",{className:"extra content",children:Object(V.jsx)(W.b,{to:"/book-details/".concat(n),children:Object(V.jsx)("button",{className:"ui button teal",type:"button",children:"View"})})})}),Object(V.jsx)("span",{children:"".concat(a,"$")})]})]},n)};var Q=function(){return Object(V.jsxs)("div",{style:{marginTop:"2rem",marginBottom:"-6.8rem",width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(V.jsx)("h3",{children:"Loading..."}),Object(V.jsx)("div",{className:"ui active centered inline loader"})]})};c(75);var Y=function(e){var t=e.setFilterPrice;return Object(V.jsx)("div",{className:"price-filter",children:Object(V.jsxs)("select",{className:"price-select",onChange:function(e){return function(e){var c=e.target.value;"all"===c&&t({min:0,max:1/0}),"0-25"===c&&t({min:0,max:25}),"25-50"===c&&t({min:25,max:50}),"50-above"===c&&t({min:50,max:1/0})}(e)},children:[Object(V.jsx)("option",{value:"",hidden:!0,defaultValue:!0,children:"Price"}),Object(V.jsx)("option",{value:"all",children:"all"}),Object(V.jsx)("option",{value:"0-25",children:"0 - 25"}),Object(V.jsx)("option",{value:"25-50",children:"25 - 50"}),Object(V.jsx)("option",{value:"50-above",children:"50 - above"})]})})};var Z=function(e){var t=e.errorMsg,c={errorWrapper:{width:"100%",display:"flex",height:"4rem",alignItems:"center",justifyContent:"center",color:"#fa5353",fontSize:"18px",marginBottom:"-4rem"},errorMsg:{marginLeft:"1rem",fontStyle:"italic",fontSize:"16px"}};return Object(V.jsx)("div",{className:"author-error__wrapper",style:c.errorWrapper,children:Object(V.jsxs)("p",{className:"author-error",children:["Something went wrong!",Object(V.jsx)("span",{style:c.errorMsg,children:"Error message: ".concat(t)})]})})};var ee=function(){var e=Object(a.useState)(""),t=Object(z.a)(e,2),c=t[0],r=t[1],n=Object(a.useState)({min:0,max:1/0}),s=Object(z.a)(n,2),i=s[0],j=s[1],d=Object(a.useState)(""),u=Object(z.a)(d,2),b=(u[0],u[1],Object(o.b)()),O=JSON.parse(localStorage.getItem("user")).token,p=Object(o.c)((function(e){return e})).booksReducer;return Object(a.useEffect)((function(){b(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y||"";return function(){var t=Object(m.a)(h.a.mark((function t(c){var a,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c(E()),t.next=4,l.a.get("/books",{headers:{Authorization:"Bearer ".concat(e)}});case 4:a=t.sent,r=a.data,c({type:"GET_BOOKS_SUCC",payload:r}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),c(E()),c({type:"GET_BOOKS_FAIL",payload:t.t0});case 13:return t.prev=13,c(I()),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[0,9,13,16]])})));return function(e){return t.apply(this,arguments)}}()}(O))}),[]),Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)($,{}),Object(V.jsxs)("div",{className:"ui container",children:[Object(V.jsxs)("div",{className:"ui segment search-wrapper",children:[Object(V.jsx)(X,{searchTerm:c,setSearchTerm:r}),Object(V.jsx)(Y,{filterPrice:i,setFilterPrice:j})]}),Object(V.jsx)("div",{className:"ui link cards cards__container",children:function(e,t){var a=e.books.filter((function(e){return e.price>t.min&&e.price<t.max&&e.title.toLowerCase().includes(c.toLowerCase())}));return e.loading?Object(V.jsx)(Q,{}):0!==a.length||e.error?e.error?Object(V.jsx)(Z,{errorMsg:e.error.message}):a.map((function(e){var t=e.title,c=e.author,a=e.price,r=e.cover,n=e.id;return Object(V.jsx)(q,{title:t,author:c,price:a,cover:r,id:n},n)})):Object(V.jsx)("h1",{children:"No books related to this theme!"})}(p,i)})]})]})};c(76);var te=c.p+"static/media/login.fe9dc47f.jpg";var ce=function(){var e=Object(a.useState)(""),t=Object(z.a)(e,2),c=t[0],r=t[1],n=Object(a.useState)(""),s=Object(z.a)(n,2),i=s[0],j=s[1],d=Object(a.useState)(!1),u=Object(z.a)(d,2),b=u[0],O=u[1],p=Object(o.b)(),x=Object(H.g)(),g=Object(o.c)((function(e){return e})).authorReducer;return Object(a.useEffect)((function(){var e;b&&(p((e=c,function(){var t=Object(m.a)(h.a.mark((function t(c){var a,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c(E()),t.next=4,l.a.post("/signin",{username:e});case 4:a=t.sent,r=a.data,localStorage.setItem("user",JSON.stringify(a.data)),c({type:"REGISTER_SUCCESS",payload:r}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),c(E()),c({type:"REGISTER_FAIL",payload:t.t0});case 14:return t.prev=14,c(I()),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[0,10,14,17]])})));return function(e){return t.apply(this,arguments)}}())),x.push("/bookscatalog")),O(!1)}),[b]),g.loading?Object(V.jsx)("div",{className:"login__container",children:Object(V.jsx)("div",{className:"login",children:Object(V.jsx)(Q,{})})}):Object(V.jsxs)(V.Fragment,{children:[g.error&&Object(V.jsx)(Z,{errorMsg:g.error.message}),Object(V.jsx)("div",{className:"login__container",children:Object(V.jsxs)("div",{className:"login",children:[Object(V.jsx)("img",{className:"ui medium rounded image login__img",alt:"log in img",src:te}),Object(V.jsx)("h3",{className:"welcome-text",children:"Welcome to JS Band Book Store!"}),Object(V.jsx)("form",{className:"ui form login__form",onSubmit:function(e){e.preventDefault(),j(function(e,t){var c="";return e.trim()?e.trim().length<4||e.trim().length>16?(c="Name should consist of min 4 and max 16 characters",t(!1)):t(!0):(c="Name required!",t(!1)),c}(c,O))},children:Object(V.jsxs)("div",{className:"field",children:[Object(V.jsxs)("label",{htmlFor:"name__login",children:["Name:",Object(V.jsx)("input",{className:"input__login",id:"name__login",type:"text",name:"first-name",placeholder:"Log-in Name",value:c,onKeyPress:function(e){"Enter"===e.key&&e.preventDefault()},onClick:function(e){return j("")},onChange:function(e){return r(e.target.value)}}),i&&Object(V.jsx)("p",{children:i})]}),Object(V.jsx)("button",{className:"teal fluid ui button",type:"submit",children:"Log In"})]})})]})})]})};c(77),c(78),c(79);var ae=function(e){var t=e.id,c=e.title,r=e.availableCount,n=e.price,s=Object(a.useState)(0),i=Object(z.a)(s,2),l=i[0],j=i[1],d=Object(a.useState)(!1),u=Object(z.a)(d,2),b=u[0],O=u[1],h=Object(a.useState)(!0),m=Object(z.a)(h,2),p=m[0],x=m[1],g=Object(a.useState)(""),f=Object(z.a)(g,2),v=f[0],N=f[1],k=Object(o.b)(),S={id:t,title:c,orderedCount:l,price:n,availableCount:r},y=Object(o.c)((function(e){return e})).cartReducer,_=y.books.filter((function(e){return e.id===t})).length,C=function(e){return y.books.length&&_?+e-+y.books.filter((function(e){return e.id===t}))[0].orderedCount:e};return Object(a.useEffect)((function(){document.getElementById("tentacles").value=0,document.getElementById("total-price").innerText=0,0===+C(r)&&N("No available copies!"),localStorage.getItem("selectedBooks")&&!y.books.length&&JSON.parse(localStorage.getItem("selectedBooks")).forEach((function(e){k(R(e))})),b&&(y.books.length&&_||k(R(S)),y.books.length&&_&&k(D(t,l))),O(!1)}),[b]),Object(V.jsx)("div",{children:Object(V.jsx)("div",{className:"ui cards",children:Object(V.jsx)("div",{className:"card",children:Object(V.jsxs)("div",{className:"content",children:[Object(V.jsxs)("div",{className:"price-per-one price-row",children:[Object(V.jsx)("span",{children:"Price, $"}),Object(V.jsx)("span",{children:n})]}),Object(V.jsxs)("div",{className:"price-row",children:[Object(V.jsx)("span",{children:"Cart"}),Object(V.jsx)("input",{type:"number",id:"tentacles",name:"tentacles",min:"0",max:C(r),defaultValue:"0",onChange:function(e){return function(e){N(""),j(e.target.value),x(!1)}(e)},onKeyDown:function(e){return e.preventDefault()}})]}),Object(V.jsxs)("div",{className:"price-row",children:[Object(V.jsx)("span",{children:"Total Price, $"}),Object(V.jsx)("span",{id:"total-price",children:Math.round(l*n*100)/100})]}),Object(V.jsxs)("div",{className:"add-to-card",children:[Object(V.jsx)("span",{id:"warning-for-btn",children:v}),Object(V.jsx)("button",{className:"ui button mini teal",type:"button",onClick:function(e){return 0===+l&&+C(r)>0&&N("Please, add copies!"),O(!0),void x(!0)},disabled:p,children:"Add to Cart"})]})]})})})})};var re=function(){var e=Object(H.i)().id,t=Object(o.b)(),c=JSON.parse(localStorage.getItem("user")).token,r=Object(o.c)((function(e){return e})),n=(r.booksReducer,r.specificBookReducer);return Object(a.useEffect)((function(){t(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y||"",t=arguments.length>1?arguments[1]:void 0;return function(){var c=Object(m.a)(h.a.mark((function c(a){var r,n;return h.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,a(E()),c.next=4,l.a.get("https://js-band-store-api.glitch.me/books/".concat(t),{headers:{Authorization:"Bearer ".concat(e)}});case 4:r=c.sent,n=r.data,a({type:"GET_BOOK_SUCC",payload:n}),c.next=13;break;case 9:c.prev=9,c.t0=c.catch(0),a(E()),a({type:"GET_BOOK_FAIL",payload:c.t0});case 13:return c.prev=13,a(I()),c.finish(13);case 16:case"end":return c.stop()}}),c,null,[[0,9,13,16]])})));return function(e){return c.apply(this,arguments)}}()}(c,e))}),[]),Object(V.jsx)(V.Fragment,{children:Object(V.jsxs)("div",{className:"ui container",children:[Object(V.jsx)($,{}),Object(V.jsx)("div",{className:"details-wrapper",children:function(t,c){var a=n.book,r=a.author,s=a.count,o=a.cover,i=a.description,l=a.level,j=a.price,d=a.tags,u=a.title;return t.loading?Object(V.jsx)(Q,{}):t.error?Object(V.jsx)(Z,{errorMsg:t.error.message}):Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)("div",{className:"book-details",children:[Object(V.jsxs)("div",{className:"book-img__wrapper",children:[Object(V.jsx)("img",{className:"ui medium rounded image",src:o,alt:"book cover"}),Object(V.jsx)("p",{className:"book-description",children:i})]}),Object(V.jsxs)("div",{children:[Object(V.jsx)("h3",{className:"book-title",children:u}),Object(V.jsx)("span",{className:"book-author",children:r}),Object(V.jsxs)("div",{className:"book-tag",children:[Object(V.jsx)("i",{className:"tags icon"}),d?d.map((function(e){return Object(V.jsx)("span",{children:"".concat(e.slice(0,1).toUpperCase()+e.slice(1),", ")},Math.random(10))})):"",Object(V.jsx)("span",{children:l})]})]})]}),Object(V.jsx)(ae,{id:e||"",title:u||"",availableCount:s||null,price:j||null})]})}(n)})]})})};c(80);var ne=function(e){var t=e.children,c=e.trigger,a=e.setTrigger,r=e.purchaseMsg,n=e.onClearCart,s=e.reducerBooks;return s.length&&localStorage.setItem("selectedBooks",JSON.stringify(s)),c?Object(V.jsx)("div",{className:"popup",children:Object(V.jsxs)("div",{className:"popup-inner",children:[Object(V.jsx)("h4",{children:r}),Object(V.jsx)("button",{type:"button",className:"close-btn",onClick:function(){a(!1),n()},children:"Close"}),t]})}):""};c(81);var se=function(){var e=Object(a.useState)(!1),t=Object(z.a)(e,2),c=t[0],r=t[1],n=Object(a.useState)(""),s=Object(z.a)(n,2),i=s[0],j=s[1],d=Object(a.useState)(!1),u=Object(z.a)(d,2),b=u[0],O=u[1],p=Object(a.useState)(""),x=Object(z.a)(p,2),g=x[0],f=x[1],v=Object(o.b)(),N=Object(o.c)((function(e){return e.cartReducer.books})),k=JSON.parse(localStorage.getItem("selectedBooks")),S=Object(o.c)((function(e){return e.cartReducer.books}))||JSON.parse(localStorage.getItem("selectedBooks"))||[],y=Object(a.useState)(!1),_=Object(z.a)(y,2),C=_[0],E=_[1],I=S.length?parseFloat(S.map((function(e){return e.price*e.orderedCount})).reduce((function(e,t){return e+t}))).toFixed(2):0;Object(a.useEffect)((function(){!N.length&&k.length&&(JSON.parse(localStorage.getItem("isLastBookToDelete"))&&localStorage.setItem("selectedBooks","[]"),JSON.parse(localStorage.getItem("selectedBooks")).forEach((function(e){return v(R(e))})))}),[]),Object(a.useEffect)((function(){localStorage.setItem("isLastBookToDelete","false"),JSON.stringify(localStorage.setItem("selectedBooks",JSON.stringify(S))),S.length&&E(!1),S.length||E(!0)}),[N]);var B,w,A=function(){localStorage.setItem("selectedBooks","[]"),v({type:L})},F=function(){var e=Object(m.a)(h.a.mark((function e(t){var c,a,n,s,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.map((function(e){return[e.id,e.orderedCount]})),a={Authorization:"Bearer ".concat(JSON.parse(localStorage.getItem("user")).token)},n=[],c.forEach((function(e){for(var t=0;t<+e[1];t++)n.push(e[0])})),e.prev=4,O(!0),e.next=8,l.a.post("/purchase",{books:[n.join()]},{headers:a});case 8:s=e.sent,o=s.data,j(o.message),r(!0),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),O(!0),f(JSON.stringify(e.t0.message));case 18:return e.prev=18,O(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[4,14,18,21]])})));return function(t){return e.apply(this,arguments)}}();return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)($,{}),Object(V.jsxs)("div",{className:"ui container cart-wrapper",children:[Object(V.jsx)("button",{className:"ui button small teal purchase-btn",type:"button",disabled:C,onClick:function(){return F(S)},children:"Purchase"}),Object(V.jsx)("div",{className:"",children:(B=S,w=function(e,t,c,a){var r=e.target.value,n=+r-+c;if(0===+r)return v(function(){return{type:T,payload:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null}}(t)),void localStorage.setItem("isLastBookToDelete",1===N.length?"true":"false");+r!==+c&&v(D(t,n))},b?Object(V.jsx)(Q,{}):B.length?Object(V.jsxs)(V.Fragment,{children:[g?Object(V.jsx)(Z,{errorMsg:g}):"",Object(V.jsxs)("div",{className:"cart__container",children:[Object(V.jsx)("div",{className:"cart-table",children:Object(V.jsxs)("table",{className:"ui celled table",children:[Object(V.jsx)("thead",{children:Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{className:"name-colomn",children:"Name"}),Object(V.jsx)("th",{children:"Count"}),Object(V.jsx)("th",{children:"Price"}),Object(V.jsxs)("th",{className:"total-colomn",children:[Object(V.jsx)("span",{children:"Total"}),Object(V.jsxs)("div",{className:"tooltip",children:[Object(V.jsx)("button",{type:"button",onClick:A,children:Object(V.jsx)("i",{className:"close inverted black icon"})}),Object(V.jsx)("span",{className:"tooltiptext",children:"Clear cart"})]})]})]})}),Object(V.jsx)("tbody",{children:S.map((function(e){return Object(V.jsxs)("tr",{className:"cart-row",children:[Object(V.jsx)("td",{"data-label":"name",children:e.title}),Object(V.jsx)("td",{"data-label":"count",children:Object(V.jsx)("input",{className:"count-input",type:"number",id:"tentacles",name:"tentacles",min:0,max:e.availableCount,defaultValue:e.orderedCount,onChange:function(t){return w(t,e.id,e.orderedCount,e.availableCount)},onKeyDown:function(e){return e.preventDefault()}})}),Object(V.jsx)("td",{"data-label":"price",children:e.price}),Object(V.jsx)("td",{"data-label":"total",className:"totals-wrapper",children:parseFloat(e.price*e.orderedCount).toFixed(2)})]},e.id)}))})]})}),Object(V.jsx)("span",{className:"cart-total",children:"Total Price -  ".concat(I," $")})]})]}):Object(V.jsx)("div",{className:"empty-cart__container",children:Object(V.jsxs)("div",{className:"empty-cart__wrapper",children:[Object(V.jsx)("i",{className:"cart teal huge plus icon"}),Object(V.jsx)("h3",{children:"Cart empty"})]})}))})]}),Object(V.jsxs)(ne,{purchaseMsg:i,trigger:c,setTrigger:r,onClearCart:A,reducerBooks:N,children:[Object(V.jsxs)("table",{className:"ui celled table",children:[Object(V.jsx)("thead",{children:Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{className:"name-colomn",children:"Name"}),Object(V.jsx)("th",{children:"Count"}),Object(V.jsx)("th",{children:"Price"}),Object(V.jsx)("th",{className:"total-colomn",children:"Total"})]})}),Object(V.jsx)("tbody",{children:S.map((function(e){return Object(V.jsxs)("tr",{className:"cart-row",children:[Object(V.jsx)("td",{"data-label":"name",children:e.title}),Object(V.jsx)("td",{"data-label":"count",children:e.orderedCount}),Object(V.jsx)("td",{"data-label":"price",children:e.price}),Object(V.jsx)("td",{"data-label":"total",className:"totals-wrapper",children:parseFloat(e.price*e.orderedCount).toFixed(2)})]},e.id)}))})]}),Object(V.jsx)("span",{className:"puchase-total",children:"Total Price -  ".concat(I," $")})]})]})};function oe(){var e=Object(H.h)().pathname;return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var ie=function(){return Object(V.jsx)("div",{className:"ui grid middle aligned segment teal inverted",style:{height:"100vh",margin:"0"},children:Object(V.jsxs)("div",{className:"ui column center aligned",children:[Object(V.jsxs)("div",{className:"ui inverted statistic",children:[Object(V.jsx)("div",{className:"value",children:"404"}),Object(V.jsx)("div",{className:"label",children:"Error"})]}),Object(V.jsxs)("div",{className:"ui message teal inverted",children:[Object(V.jsx)("div",{className:"header",children:"Page not found"}),Object(V.jsx)("p",{children:"Oops...The link you clicked may be broken or the page may have been removed. We\u2019re sorry."})]})]})})},le=function(){var e=Object(o.c)((function(e){return e})).authorReducer;return Object(V.jsx)("div",{children:Object(V.jsxs)(W.a,{children:[Object(V.jsx)(oe,{}),Object(V.jsxs)(H.d,{children:[Object(V.jsx)(H.b,{path:"/",exact:!0,render:function(){return e.user.token?Object(V.jsx)(H.a,{to:"/bookscatalog"}):Object(V.jsx)(H.a,{to:"/login"})}}),Object(V.jsx)(H.b,{path:"/login",exact:!0,render:function(){return e.user.token?Object(V.jsx)(H.a,{to:"/bookscatalog"}):Object(V.jsx)(ce,{})}}),Object(V.jsx)(H.b,{path:"/bookscatalog",exact:!0,render:function(){return e.user.token?Object(V.jsx)(ee,{}):Object(V.jsx)(H.a,{to:"/login"})}}),Object(V.jsx)(H.b,{path:"/book-details/:id",exact:!0,render:function(){return e.user.token?Object(V.jsx)(re,{}):Object(V.jsx)(H.a,{to:"/login"})}}),Object(V.jsx)(H.b,{path:"/cart",exact:!0,render:function(){return e.user.token?Object(V.jsx)(se,{}):Object(V.jsx)(H.a,{to:"/login"})}}),Object(V.jsx)(H.b,{exact:!0,path:"*",component:ie})]})]})})};l.a.defaults.baseURL="https://js-band-store-api.glitch.me",s.a.render(Object(V.jsx)(r.a.StrictMode,{children:Object(V.jsx)(o.a,{store:U,children:Object(V.jsx)(le,{})})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.fc79386f.chunk.js.map